var Main={"main":function(){$('[data-action="changeShop"]').click(Main.changeShop);$('[data-action="changeLocale"]').click(Main.changeLocale);$('a[data-slug]').click(function(e){e.preventDefault();Main.loadPopupPage($(this).data('slug'));});Main.specialSelect();},changeShop:function(event){event.preventDefault();var data={"value":$(this).data("name"),"key":"shop","url":document.location.pathname};Main.change(data);},changeLocale:function(event){event.preventDefault();var data={"value":$(this).data("locale"),"key":"locale","url":document.location.pathname};Main.change(data);},change:function(data){$.ajax({async:true,type:"GET",data:data,dataType:"html",url:validateURL.URL()+'/index/change',success:function(result){document.location.replace(result);}});},"tagError":function(input,error){$("#"+input).on("focus",Main.removeMessage).closest(".form-group").addClass("error").append("<p class='message'>"+error+"</p>");$("#"+input).on('ifChecked',Main.removeMessage)},"removeMessage":function(){$(this).parents(".form-group").removeClass("error");},loadPopupPage:function(slug){$("#modalInformation[role='dialog'] [data-title], #modalInformation[role='dialog'] [data-content]").html('');$("#modalInformation[role='dialog']").modal().unbind('shown.bs.modal').on('shown.bs.modal',function(){$('#modalInformation [role="document"]').busyLoad('show');$.ajax({async:true,type:"GET",contentType:"text/html",url:validateURL.URL()+'/page/loadPageContentModal/'+slug,success:function(result){let res,title,modal;res=$(result).children();modal=$('#modalInformation');title=res.find('h1').text().trim();res.find('h1').remove();modal.find('[data-title]').text(title);modal.find('[data-content]').html(res);modal.find('[role="document"]').busyLoad('hide');},timeout:10000});});},"reorderSelect":function(target){if(target===undefined){target=null;}if(target&&target[0].hasAttribute('data-top')&&target.attr('data-top')){var order=target.attr('data-top')
order=order.split(",")
for(let i=0;i<order.length;i++){let option=target.find('option[value="'+parseInt(order[i].trim())+'"]');if(i==0){$(option).insertAfter($(target.find('option[data-toplist]')));}else{$(option).insertBefore($(target.find('option[disabled]:not([data-toplist])')));}}}},"placeholderSelect":function(target){if(target===undefined){target=null;}var text=target.attr('data-placeholder')
var html='<option disabled selected hidden>'+text+'</option>'
target.prepend(html)},"specialSelect":function(){$('select[data-type="select"]').each(function(i){if($(this)[0].hasAttribute('data-top'))Main.reorderSelect($(this));if(!$(this)[0].hasAttribute('data-origin')&&$(this)[0].hasAttribute('data-placeholder'))Main.placeholderSelect($(this))})}};$(document).ready(function(){Main.main()
if($('select[data-type="select"][data-top]').length>0){Main.reorderSelect();}});function ordinal_suffix_of(i){var j=i%10,k=i%100;if(j==1&&k!=11){return i+"st";}if(j==2&&k!=12){return i+"nd";}if(j==3&&k!=13){return i+"rd";}return i+"th";}function formatDateDelivery(date){var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];var days=['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'];var d=new Date(date);var dayName=days[d.getDay()];var numDay=d.getDate();var completeNumDay=ordinal_suffix_of(numDay);var nameMonth=months[d.getMonth()];return(dayName+', '+completeNumDay+' '+nameMonth);}